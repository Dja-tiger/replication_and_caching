<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–æ–≤–∞—Ä - –¢–ï–•–ù–û–ú–ò–†</title>
    <link rel="stylesheet" href="/styles.css?v=3">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-left">
                <h1 class="logo"><a href="/" style="color: inherit; text-decoration: none;">–¢–ï–•–ù–û–ú–ò–†</a></h1>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...">
                    <button class="search-btn">üîç</button>
                </div>
            </div>
            <div class="header-right">
                <div class="cart-container">
                    <button class="cart-btn" onclick="toggleCart()">
                        üõí <span id="cart-count">0</span>
                    </button>
                </div>
                <div class="user-container">
                    <div class="user-profile" onclick="toggleProfile()">
                        üë§ <span id="user-name">User</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container main-container">
        <!-- Product Details -->
        <div class="product-details-container">
            <div class="breadcrumb">
                <a href="/">–ì–ª–∞–≤–Ω–∞—è</a> / <span id="product-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span> / <span id="product-breadcrumb">–¢–æ–≤–∞—Ä</span>
            </div>

            <div class="product-details">
                <div class="product-gallery">
                    <div class="product-main-image">
                        <svg width="300" height="300" viewBox="0 0 300 300" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="300" height="300" fill="#F5F5F5"/>
                            <rect x="100" y="80" width="100" height="120" rx="10" fill="#D0D0D0"/>
                            <circle cx="150" cy="140" r="30" fill="#B0B0B0"/>
                            <rect x="90" y="210" width="120" height="10" rx="5" fill="#D0D0D0"/>
                            <rect x="80" y="230" width="140" height="8" rx="4" fill="#E0E0E0"/>
                            <rect x="85" y="248" width="130" height="8" rx="4" fill="#E0E0E0"/>
                        </svg>
                    </div>
                </div>

                <div class="product-info">
                    <h1 id="product-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
                    <div class="product-brand" id="product-brand"></div>
                    <div class="product-rating">
                        <span id="product-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                        <span class="rating-count">(0 –æ—Ç–∑—ã–≤–æ–≤)</span>
                    </div>

                    <div class="product-price-block">
                        <div id="product-price"></div>
                        <div class="product-stock" id="product-stock"></div>
                    </div>

                    <div class="product-description" id="product-description"></div>

                    <div class="product-actions">
                        <button class="btn-primary" onclick="addProductToCart()">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                        <button class="btn-secondary" onclick="buyNow()">–ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å</button>
                    </div>
                </div>
            </div>

            <!-- Tabs -->
            <div class="product-tabs">
                <div class="tab-headers">
                    <button class="tab-header active" onclick="switchTab('description')">–û–ø–∏—Å–∞–Ω–∏–µ</button>
                    <button class="tab-header" onclick="switchTab('specs')">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</button>
                    <button class="tab-header" onclick="switchTab('reviews')">–û—Ç–∑—ã–≤—ã</button>
                </div>
                <div class="tab-content">
                    <div id="tab-description" class="tab-pane active">
                        <p id="full-description"></p>
                    </div>
                    <div id="tab-specs" class="tab-pane">
                        <table class="specs-table" id="specs-table">
                            <!-- Specs will be loaded here -->
                        </table>
                    </div>
                    <div id="tab-reviews" class="tab-pane">
                        <div id="reviews-container">
                            <!-- Reviews will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-content">
            <div class="cart-header">
                <h3>–ö–æ—Ä–∑–∏–Ω–∞</h3>
                <button onclick="toggleCart()" class="close-btn">√ó</button>
            </div>
            <div class="cart-items" id="cart-items">
                <!-- Cart items will be loaded here -->
            </div>
            <div class="cart-footer">
                <div class="cart-total">–ò—Ç–æ–≥–æ: <span id="cart-total">0</span> ‚ÇΩ</div>
                <button class="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div class="notifications" id="notifications"></div>

    <!-- Status Panel -->
    <div class="status-panel" id="status-panel">
        <h4>WebSocket Status</h4>
        <div class="status-indicator" id="ws-status">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</div>
    </div>

    <script src="/app.js?v=7"></script>
    <script>
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞
        let currentProduct = null;

        function addProductToCart() {
            if (currentProduct) {
                addToCart(currentProduct.id);
            }
        }

        function buyNow() {
            if (currentProduct) {
                addToCart(currentProduct.id);
                window.location.href = '/cart';
            }
        }

        function switchTab(tabName) {
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
            document.querySelectorAll('.tab-header').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });

            // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
            event.target.classList.add('active');
            document.getElementById(`tab-${tabName}`).classList.add('active');
        }
    </script>
</body>
</html>